C51 COMPILER V9.60.7.0   MAIN                                                              10/12/2024 15:40:13 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Users\main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Utils;.\Apps) DEBUG OBJEC
                    -TEXTEND PRINT(.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "reg52.h"
   2          #include "util.h"
   3          #include "ds1302.h"
   4          #include "smg.h"
   5          #include "skey.h"
   6          
   7          extern u8 gDS1302_Time[7];
   8          
   9          u8 alarmCnt = 0; // 用于闹钟计时, 最大60s
  10          
  11          void Time_SMG_Display();
  12          
  13          void main() {
  14   1          DS1302_Init();
  15   1          SMG_Init();
  16   1          SKEY_Init();
  17   1      
  18   1          while (1) {
  19   2              DS1302_GetTime();
  20   2              Time_SMG_Display();
  21   2          }
  22   1      }
  23          
  24          void Time_SMG_Display() {
  25   1          u8 i = 0, j = 0;
  26   1      
  27   1          for (i = 0, j = 0; i < 3; i++) {
  28   2              smgFuncs[j]();
  29   2              j++;
  30   2              SMG = smgNum[gDS1302_Time[2 - i] / 16]; // 十位
  31   2              delayNMs(2);
  32   2              SMG = 0x00;
  33   2      
  34   2              smgFuncs[j]();
  35   2              j++;
  36   2              SMG = smgNum[gDS1302_Time[2 - i] % 16]; // 个位
  37   2              delayNMs(2);
  38   2              SMG = 0x00;
  39   2      
  40   2              if (j < 7) {
  41   3                  smgFuncs[j]();
  42   3                  j++;
  43   3                  SMG = 0x40; // -
  44   3                  delayNMs(2);
  45   3                  SMG = 0x00;
  46   3              }
  47   2          }
  48   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    174    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
C51 COMPILER V9.60.7.0   MAIN                                                              10/12/2024 15:40:13 PAGE 2   

   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
